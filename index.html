<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini NumPad</title>
  <style>
    :root { --bg:#0b0c10; --card:#141622; --key:#1f2233; --key2:#262a3e; --text:#f3f4f6; --muted:#9aa3b2; }
    body { margin:0; font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial; background:var(--bg); color:var(--text); }
    .wrap { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:20px; }
    .card { width:min(420px, 100%); background:var(--card); border-radius:24px; padding:18px; box-shadow: 0 20px 60px rgba(0,0,0,.45); }
    .title { font-size:18px; font-weight:700; margin:4px 4px 12px; }
    .display {
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      border-radius:18px;
      padding:14px 14px;
      display:flex; align-items:baseline; gap:10px;
      overflow:hidden;
    }
    .value { font-size:28px; font-weight:800; letter-spacing:.5px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .hint { margin-left:auto; font-size:12px; color:var(--muted); }
    .grid { margin-top:14px; display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }
    button {
      appearance:none; border:0; border-radius:18px;
      padding:16px 0; font-size:20px; font-weight:700;
      color:var(--text); background:var(--key);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
      touch-action: manipulation;
    }
    button:active { transform: translateY(1px); filter: brightness(1.08); }
    .wide { grid-column: span 2; }
    .alt { background:var(--key2); color:#dbe4ff; }
    .danger { background:#2a1b1b; color:#ffd5d5; }
    .row { margin-top:12px; display:flex; gap:10px; }
    .row button { flex:1; padding:14px 0; font-size:16px; border-radius:16px; }
    .msg { margin-top:10px; font-size:12px; color:var(--muted); min-height:1em; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="title">Mini NumPad</div>

      <div class="display" aria-label="Eingabeanzeige">
        <div class="value" id="val">—</div>
        <div class="hint" id="len">0 Zeichen</div>
      </div>

      <div class="grid" role="group" aria-label="NumPad">
        <button data-k="1">1</button>
        <button data-k="2">2</button>
        <button data-k="3">3</button>
        <button data-k="4">4</button>
        <button data-k="5">5</button>
        <button data-k="6">6</button>
        <button data-k="7">7</button>
        <button data-k="8">8</button>
        <button data-k="9">9</button>
        <button class="alt" data-k=".">.</button>
        <button data-k="0">0</button>
        <button class="alt" id="back">⌫</button>
        <button class="danger wide" id="clear">Clear</button>
        <button class="alt" id="ok">OK</button>
      </div>

      <div class="msg" id="msg"></div>
    </div>
  </div>

  <script>
    let value = "";
    const maxLen = 24;

    const valEl = document.getElementById("val");
    const lenEl = document.getElementById("len");
    const msgEl = document.getElementById("msg");

    function render() {
      valEl.textContent = value.length ? value : "—";
      lenEl.textContent = value.length + " Zeichen";
    }

    function addChar(ch) {
      msgEl.textContent = "";
      if (value.length >= maxLen) return;

      if (ch === ".") {
        if (value.includes(".")) return;       // nur ein Punkt
        if (!value.length) value = "0";        // ".5" -> "0.5"
      }
      value += ch;
      render();
    }

    document.querySelectorAll("button[data-k]").forEach(btn => {
      btn.addEventListener("click", () => addChar(btn.dataset.k));
    });

    document.getElementById("back").addEventListener("click", () => {
      msgEl.textContent = "";
      value = value.slice(0, -1);
      render();
    });

    document.getElementById("clear").addEventListener("click", () => {
      msgEl.textContent = "";
      value = "";
      render();
    });

    document.getElementById("ok").addEventListener("click", () => {
      if (!value.length) { msgEl.textContent = "Bitte eine Zahl eingeben."; return; }
      msgEl.textContent = "Gespeichert: " + value;
      // Hier könntest du z.B. value an eine API schicken oder weiterverarbeiten.
    });

    // Optional: Enter/Backspace am Desktop
    window.addEventListener("keydown", (e) => {
      if (e.key >= "0" && e.key <= "9") addChar(e.key);
      if (e.key === "." ) addChar(".");
      if (e.key === "Backspace") document.getElementById("back").click();
      if (e.key === "Enter") document.getElementById("ok").click();
    });

    render();
  </script>
</body>
</html>
